# 七 查找

## 一 顺序查找

就是最基本的，一个一个顺序的遍历一遍。

## 二 二分查找

判定树高数：
$$
h=log_2(n+1)
$$


平均查找长度，不超过判定树的高度：
$$
ASL=log_2(n+1)-1
$$
查找时要注意

1. mid的值取得是下整：11/2=5
2. 但是，数组下标是0开始

所以对于【13，18，24，35，47，50，62，83，90，115，134】查找90时，

第一次mid指向50，第二次就指向了90，只需要查找两次。

## 三 分块查找

如果总的数据长度是S，那么

1. 每块的长度为$\sqrt{S}$时，效率最高！
2. 总的查找比较次数由两部分组成：分块时需要的次数+块内查找需要的次数

## 四 二叉排序树

左子树的值 < 根的值 < 右子树的值

> 不能存在重复的元素，会出现插入失败！

插入的时候也很简单，就是比较一下大小，小的往左面放，大的放右侧。

### 查找效率

 好的情况下：等同于平衡二叉树，$log_2(n)$

坏的情况下：单边树，O(n)



## 五 平衡二叉树

左子树和右子树都是平衡二叉树，并且高度差不超过1。

找了神级方法！！高手在民间！！！

方法：

1. 找出插入元素后，不平衡的最小子树
2. 沿着插入元素向上到达树根，然后在该路径上，找到离树根最近的两个节点
3. 将根和这两个节点，重新排序，其他元素按照规则放入即可！

## 六 红黑树

本质是平衡二叉树

性质：

1. 节点只有红和黑两种颜色
2. 根和叶节点必定是黑色的
3. 如果一个节点是红的，那么孩子是黑色的

### 插入 

每次插入的节点都是红色的。

### 修复红黑树

两句话加两个特殊情况

1. 无叔叔，子树旋转，黑色转移

   ![image-20230724203437756](https://taufik.oss-cn-beijing.aliyuncs.com/img/image-20230724203437756.png)

2. 有叔叔，子树直接变色（上一层父亲and叔叔同时）

   ![image-20230724203450100](https://taufik.oss-cn-beijing.aliyuncs.com/img/image-20230724203450100.png)

特殊情况，如果变色后，和上一层的节点冲突，两种情况：

1. 冲突的节点那一层同色，那么直接改变直接冲突点的颜色

   ![image-20230724203300106](https://taufik.oss-cn-beijing.aliyuncs.com/img/image-20230724203300106.png)

2. 冲突的节点那一层异色，就需要重新整理，像调整avl树一样

   ![image-20230724203313143](https://taufik.oss-cn-beijing.aliyuncs.com/img/image-20230724203313143.png)