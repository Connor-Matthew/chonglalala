# 五 设备管理

## 5.1 IO控制器

1. 数据寄存器
2. 识别CPU指令
3. 向CPU报告
4. 地址识别（识别自身的各个寄存器

###  寄存器空间的分配

1 内存映像

把IO内部的寄存器和内存**<u>*统一编址*</u>**

2 寄存器独立编址

IO内部的寄存器独立编址

## 5.2 IO控制方式

### 1 程序直接控制方式

1. CPU直接向IO模块发送命令
2. IO模块将设备状态存入状态寄存器（1未就绪/0就绪）
3. IO模块读取设备数据，存入数据寄存器
4. IO模块将状态寄存器置为0（就绪）

这期间，CPU通过**<u>*轮询*</u>**的方式，不断地检查状态寄存器信息

如果就绪的话，数据寄存器中的数据，会运输到CPU中，并且接着运送到内存中

>int a;
>
>声明的变量a，其实是在内存中的，所以CPU还要将数据，发送到内存中才行。

### 2 中断驱动方式

这里与上面的不同在于，在CPU等待状态就绪时，不再是轮询的方式

而是采用中断技术，CPU可以先去做别的事情

CPU和IO可以并行操作

### 3 DMA方式（外包

直接存储器存取方式

在开始和结束时，需要CPU干预，提供指令

在传输的过程中，则全部由DMA控制器管理

![image-20230830105553277](https://taufik.oss-cn-beijing.aliyuncs.com/img/image-20230830105553277.png)

### 4 通道控制方式（副经理

通道是简版的CPU，可以识别指令。

1. CPU向通道发出指令
2. 通道程序去内存找出**<u>*通道程序*</u>**，依次的执行

![image-20230830110022414](https://taufik.oss-cn-beijing.aliyuncs.com/img/image-20230830110022414.png)

## 5.3 IO核心子系统



## 5.4 假脱机技术

